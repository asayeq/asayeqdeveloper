<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<link rel="stylesheet" href="style.css"/>

<title>book search page</title>
<script type="text/javascript"> </script>
<meta name="description" content="Milestone1">

<meta name="author" content="Aimal Sayeq">

<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
<script>

$(document).ready(function(){
var input = document.getElementById("Book");
$("#search").click(function(){displaydata();});
function displaydata() {
  var search=document.getElementById("Book").value;
  search=search.replace(/\s/g,"%20");
  var url="https://www.googleapis.com/books/v1/volumes?q="+search+"&maxResults=40";
  console.log.(url,function(data1){
    var $jsontip = $("#jsonTip");
  var strHtml = "<table>";
              var items = data1["items"];
                  strHtml +="<table> ";
              $.each(items,function(infoIndex,data) {
              var volumeInfo = data["volumeInfo"];
              var imageLinks = volumeInfo["imageLinks"];
                  strHtml += '<tr><td> <img src='
                  try{strHtml+= imageLinks["thumbnail"];
                  }
                  catch(err){
                  strHtml+="https://books.google.com/googlebooks/images/no_cover_thumb.gif width='50px'";}
              strHtml += "><h1>Title: " + volumeInfo["title"] + "</h1>";
              strHtml += "Subtitle: " + volumeInfo["subtitle"] + "<br>";
              strHtml += "Authors: " + volumeInfo ["authors"] +"<br>";
              strHtml += "Publisher: " + volumeInfo["publisher"] + "<br>";
              strHtml += "PublishedDate: " + volumeInfo["publishedDate"] + "<br>";
              strHtml += "Description: " + volumeInfo["description"] + "<br>";
              var IndustryIdentifiers = volumeInfo["industryIdentifiers"];
              var readingModes = volumeInfo["readingModes"];
              strHtml += "PageCount: " + volumeInfo + volumeInfo["pageCount"] + "<br>";
              strHtml += "PrintType: " + volumeInfo + volumeInfo["printType"] + "<br>";
              strHtml += "<a href='./Bookdetail.html?s="+data1.items[infoIndex].id+"'target='_blank'> Book Details</a></td></tr>";
            })
            strHtml +="</table>";

            $jsontip.html(strHtml);
          });


      });

</script>

</head>


<!--<div id="search" class="#f5f5f5 grey lightenb-4 z-depth-5">
  <form id="myform">
    <div class"input-field">
      <input type="search" id="books">
      <laber for="search"> Search books</label>
      </div>
      <button class="btn red"> Search books</button>
    </form>
  <div id="result">
  </div>-->
<body>
  <!--<div style="background-color:lightblue" align = "center">
  <form action="/action_page.php">
    <h1>Search for Book</h1>
    <input type="text" name="BookSearch" value="">
  <input type="submit" value="Submit">
  </form>
</div>-->
<a style="position:absolute; top:5%; right:5%"; href="Bookshelf.html">My Bookshelf</a>
<div>
Book Name: <input type="text" name="Book" id="Book" autofocus placeholder = "search" size = "60"></br>
 <button type="submit" id="Search" > Search</button>

 </div>




</body>
</html>
